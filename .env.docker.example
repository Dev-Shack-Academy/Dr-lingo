
# DOCKER COMPOSE ENVIRONMENT

# Use this when running with: docker-compose up or make up
# Services communicate via Docker network using service names
# Copy to: .env.prod (root) - docker-compose reads this file


# Django Settings
SECRET_KEY=django-insecure-your-dev-secret-key-here
DEBUG=False
ALLOWED_HOSTS=localhost,127.0.0.1
CORS_ALLOWED_ORIGINS=http://localhost,http://localhost:80
CSRF_TRUSTED_ORIGINS=http://localhost,http://localhost:80


# Database Configuration (PostgreSQL)
# Uses Docker service name 'postgres' (internal port 5432)
POSTGRES_DB=dr-lingo_db
POSTGRES_USER=dr-lingo_user
POSTGRES_PASSWORD=your-docker-password
DATABASE_URL=postgresql://dr-lingo_user:your-docker-password@postgres:5432/dr-lingo_db


# Redis Configuration
# Uses Docker service name 'redis' (internal port 6379)
REDIS_PASSWORD=your-redis-password
REDIS_URL=redis://:your-redis-password@redis:6379/1
REDIS_CHANNELS_URL=redis://:your-redis-password@redis:6379/2


# Celery Task Queue
CELERY_BROKER_URL=redis://:your-redis-password@redis:6379/0
CELERY_RESULT_BACKEND=redis://:your-redis-password@redis:6379/0


# RabbitMQ Event Bus
# Uses Docker service name 'rabbitmq' (internal port 5672)
RABBITMQ_DEFAULT_USER=dr-lingo
RABBITMQ_DEFAULT_PASS=your-rabbitmq-password
RABBITMQ_DEFAULT_VHOST=dr-lingo
RABBITMQ_URL=amqp://dr-lingo:your-rabbitmq-password@rabbitmq:5672/dr-lingo
RABBITMQ_EXCHANGE=medical_translation_events


# Event System (Docker = RabbitMQ)
USE_PUBSUB=False


# Cloud Storage (Docker = filesystem)
USE_GCS=False


# AI Provider Configuration
# Uses Docker service name 'ollama' (internal port 11434)
AI_PROVIDER=ollama
OLLAMA_BASE_URL=http://ollama:11434
OLLAMA_TRANSLATION_MODEL=granite3.3:8b
OLLAMA_COMPLETION_MODEL=granite3.3:8b
OLLAMA_EMBEDDING_MODEL=nomic-embed-text:v1.5

# Gemini AI (Alternative - get key from: https://makersuite.google.com/app/apikey)
GEMINI_API_KEY=your-gemini-api-key-here


# Whisper Speech-to-Text
# Uses Docker service name 'whisper' (internal port 9000)
WHISPER_API_URL=http://whisper:9000


# Hugging Face (Optional)
HF_TOKEN=your-huggingface-token-here


# Frontend (Nginx proxy)
VITE_API_BASE_URL=http://localhost/api
VITE_WS_URL=ws://localhost


# Domain Configuration
DOMAIN=localhost


# Authentication
OTP_EMAIL_SENDER=noreply@localhost



# QUICK START:
# 1. Copy this to .env.prod
# 2. Run: docker-compose up -d  OR  make up
# 3. Access app at: http://localhost
